<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quick Start</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/styles.3a9f1cdc.css" as="style"><link rel="preload" href="/assets/js/app.3a9f1cdc.js" as="script"><link rel="preload" href="/assets/js/30.63a6b1c0.js" as="script"><link rel="prefetch" href="/assets/js/28.cec8f2d2.js"><link rel="prefetch" href="/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/assets/css/2.styles.6509c70d.css"><link rel="prefetch" href="/assets/js/2.6509c70d.js"><link rel="prefetch" href="/assets/js/3.8b7e0031.js"><link rel="prefetch" href="/assets/js/4.9744725a.js"><link rel="prefetch" href="/assets/js/5.42681610.js"><link rel="prefetch" href="/assets/js/6.5d7ec2de.js"><link rel="prefetch" href="/assets/js/7.b8138455.js"><link rel="prefetch" href="/assets/js/8.e076a4aa.js"><link rel="prefetch" href="/assets/js/9.e5e16c98.js"><link rel="prefetch" href="/assets/js/10.158db2a2.js"><link rel="prefetch" href="/assets/js/11.a671d306.js"><link rel="prefetch" href="/assets/js/12.d3b4cf81.js"><link rel="prefetch" href="/assets/js/13.cd4aef58.js"><link rel="prefetch" href="/assets/js/14.67de5e1b.js"><link rel="prefetch" href="/assets/js/15.23fa35c0.js"><link rel="prefetch" href="/assets/js/16.932056a0.js"><link rel="prefetch" href="/assets/js/17.6b3b2d8d.js"><link rel="prefetch" href="/assets/js/18.d7a62273.js"><link rel="prefetch" href="/assets/js/19.094d0337.js"><link rel="prefetch" href="/assets/js/20.85c69cd6.js"><link rel="prefetch" href="/assets/js/21.b036638e.js"><link rel="prefetch" href="/assets/js/22.d745dd85.js"><link rel="prefetch" href="/assets/js/23.0aa8926b.js"><link rel="prefetch" href="/assets/js/24.ff8b4a3d.js"><link rel="prefetch" href="/assets/js/25.697e3d76.js"><link rel="prefetch" href="/assets/js/26.99c5150c.js"><link rel="prefetch" href="/assets/js/27.b44c6890.js"><link rel="prefetch" href="/assets/js/29.e7ccd45d.js"><link rel="prefetch" href="/assets/js/31.b761aeb7.js"><link rel="prefetch" href="/assets/js/32.a70d25f0.js"><link rel="prefetch" href="/assets/js/33.cd88dfdf.js"><link rel="prefetch" href="/assets/js/34.ccfe605c.js"><link rel="prefetch" href="/assets/js/35.0fb34bfe.js"><link rel="prefetch" href="/assets/js/36.9639fe30.js"><link rel="prefetch" href="/assets/js/37.3d70aba1.js"><link rel="prefetch" href="/assets/js/38.0d9de720.js"><link rel="prefetch" href="/assets/js/39.2954799a.js"><link rel="prefetch" href="/assets/js/40.b2bcddf7.js"><link rel="prefetch" href="/assets/js/41.3208960c.js"><link rel="prefetch" href="/assets/js/42.00947f66.js"><link rel="prefetch" href="/assets/js/43.1a8476d8.js"><link rel="prefetch" href="/assets/js/44.5e3a4f21.js"><link rel="prefetch" href="/assets/js/45.95a81b10.js"><link rel="prefetch" href="/assets/js/46.5d4bb088.js"><link rel="prefetch" href="/assets/js/47.fa2d11ba.js"><link rel="prefetch" href="/assets/js/48.d4d3396e.js"><link rel="prefetch" href="/assets/js/49.15ada0f8.js"><link rel="prefetch" href="/assets/js/50.8235420e.js"><link rel="prefetch" href="/assets/js/51.cba6e66f.js"><link rel="prefetch" href="/assets/js/52.05127c71.js"><link rel="prefetch" href="/assets/js/53.b9a2b2f4.js"><link rel="prefetch" href="/assets/js/54.742373fd.js"><link rel="prefetch" href="/assets/js/55.cd73c4f7.js"><link rel="prefetch" href="/assets/js/56.743d4627.js"><link rel="prefetch" href="/assets/js/57.d149a960.js"><link rel="prefetch" href="/assets/js/58.e3085eda.js"><link rel="prefetch" href="/assets/js/59.9b4e1542.js">
    <link rel="stylesheet" href="/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/assets/css/2.styles.6509c70d.css"><link rel="stylesheet" href="/assets/css/styles.3a9f1cdc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Quick Start</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/quickstart.html#environment" class="sidebar-link">Environment</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/quickstart.html#the-goal-of-this-chapter" class="sidebar-link">The goal of this chapter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/quickstart.html#about-gui-dashboard" class="sidebar-link">About GUI Dashboard</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/quickstart.html#installation" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/quickstart.html#generate-procfile-js" class="sidebar-link">Generate procfile.js</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/quickstart.html#start-and-stop-in-global-mode" class="sidebar-link">Start and stop in global mode</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="quick-start"><a href="#quick-start" aria-hidden="true" class="header-anchor">#</a> Quick Start</h1> <h2 id="environment"><a href="#environment" aria-hidden="true" class="header-anchor">#</a> Environment</h2> <ul><li>OS: macOS / Linux</li> <li>Node.js Runtime: &gt;= 8.x.x, latest LTS version is recommended</li></ul> <h2 id="the-goal-of-this-chapter"><a href="#the-goal-of-this-chapter" aria-hidden="true" class="header-anchor">#</a> The goal of this chapter</h2> <ol><li>Understand <code>procfile.js</code> configuration.</li> <li>Understand basic commands: start, stop, dev, exit, and list.</li></ol> <h2 id="about-gui-dashboard"><a href="#about-gui-dashboard" aria-hidden="true" class="header-anchor">#</a> About GUI Dashboard</h2> <p>Please check <a href="http://www.midwayjs.org/pandora/other/dashboard.html" target="_blank" rel="noopener noreferrer">GUI Dashboard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <p>Pandora.js can be installed locally with your Node.js project. It can also be installed globally.</p> <div class="language-sh extra-class"><pre class="language-text"><code>npm i pandora -g  // Install with the global mode
npm i pandora --save   // Install with the local mode
</code></pre></div><h2 id="generate-procfile-js"><a href="#generate-procfile-js" aria-hidden="true" class="header-anchor">#</a> Generate procfile.js</h2> <p>Pandora.js defines the application process structure via the <code>procfile.js</code> file in project root directory, so you need to add a <code>procfile.js</code> file in the project root directory.</p> <p>This chapter will introduce the basic Fork and Cluster modes, you can choose either mode based on your scenario.</p> <h4 id="fork-mode"><a href="#fork-mode" aria-hidden="true" class="header-anchor">#</a> Fork mode</h4> <p>Fork mode is kind of straightforward, it just launch the application, say, run <code>node app.js</code> directly.</p> <p>You can use the init command to generate a <code>procfile.js</code> with fork mode:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ pandora init ./app.js <span class="token comment"># Here app.js is the launch entry of your Node.js application</span>
? Which <span class="token function">type</span> <span class="token keyword">do</span> you like to generate ? <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
❯ fork 
  cluster 
** The procfile.js was generated to location /xx/xx/procfile.js **
</code></pre></div><p>Here you have a <code>procfile.js</code> with default values. You can have a glimpse of file content here:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>pandora<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  pandora
    <span class="token punctuation">.</span><span class="token function">fork</span><span class="token punctuation">(</span><span class="token string">'appName'</span><span class="token punctuation">,</span> <span class="token string">'./app.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="cluster-mode"><a href="#cluster-mode" aria-hidden="true" class="header-anchor">#</a> Cluster mode</h4> <p>Cluster mode is frequently adopted by Node.js applications in production. Pandora.js launch multiple workers, the same number as cpu cores by default, for applications to max the CPU performance. You can tune this setting based on your own flavor.</p> <p>You can use the init command to generate a <code>procfile.js</code> with cluster mode:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ pandora init ./app.js <span class="token comment"># Here app.js is the launch entry of your Node.js application</span>
? Which <span class="token function">type</span> <span class="token keyword">do</span> you like to generate ? <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
  fork 
❯ cluster 
** The procfile.js was auto generated to location /xx/xx/procfile.js **
</code></pre></div><p>Here you have a <code>procfile.js</code> with default values. You can have a glimpse of file content here:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>pandora<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  pandora
    <span class="token comment">// launch app.js using the cluster mode, with the default setting</span>
    <span class="token punctuation">.</span><span class="token function">cluster</span><span class="token punctuation">(</span><span class="token string">'./app.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
  <span class="token comment">/* Custom the number of workers
  pandora
    .process('worker')
    // Change the `worker` process numbers to 2.
    .scale(2);

    // By the way, The default process number is defined as `pandora.dev ? 1 : 'auto'`.
    // Which means if it is in development mode, pandora.js will not launch applications in cluster mode,
    // otherwise it launches applications in cluster mode.
  */</span>
    
<span class="token punctuation">}</span>
</code></pre></div><h1 id="start-or-stop-through-npm-run"><a href="#start-or-stop-through-npm-run" aria-hidden="true" class="header-anchor">#</a> Start or stop through <code>npm run</code></h1> <p>Other than process management, Pandora.js can also help with application lifecycle management.</p> <p>We suggest you use pandora.js to start/stop your node.js applications. You define the scripts section of package.json as below:</p> <div class="language-json extra-class"><pre class="language-json"><code>// package.json
<span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pandora dev&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pandora start&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stop&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pandora stop&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now，you can use <code>npm run</code> to start/stop your application:</p> <div class="language- extra-class"><pre class="language-text"><code>npm run dev // Local start
npm run start // Production start
npm run stop // Production stop
</code></pre></div><h2 id="start-and-stop-in-global-mode"><a href="#start-and-stop-in-global-mode" aria-hidden="true" class="header-anchor">#</a> Start and stop in global mode</h2> <div class="language-sh extra-class"><pre class="language-text"><code>pandora start [--name xxx] [path]
</code></pre></div><p>Here is an example, we launch the application in the application root directory, and name it <code>helloApp</code>.</p> <div class="language-sh extra-class"><pre class="language-text"><code>pandora start
pandora start --name helloApp
</code></pre></div><p>If <code>name</code> is not specified, Pandora.js will take the last part of the root directory or the value of <code>name</code> property in package.json as the application name. The application will be launched silently, according to the default definition in <code>procfile.js</code> and run in the background.</p> <p>As soon as the application is launched, it can be viewed through the <code>list</code> command:</p> <div class="language-sh extra-class"><pre class="language-text"><code>pandora list
</code></pre></div><p>you can also stop it with <code>stop</code> command:</p> <div class="language-sh extra-class"><pre class="language-text"><code>pandora stop
</code></pre></div><blockquote><p>Since Pandora.js used to run global mode in background, it is strongly suggested to deploy it on the server beforehand.</p></blockquote> <p>After the application is launched, the daemon process will keep resident in memory even the application is stopped. You can quit the daemon process via the command below:</p> <div class="language-sh extra-class"><pre class="language-text"><code>pandora exit
</code></pre></div><p>If you do want to run the applications at foreground, you can choose the <code>dev</code> command ( only for local debugging):</p> <div class="language-sh extra-class"><pre class="language-text"><code>pandora dev
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/30.63a6b1c0.js" defer></script><script src="/assets/js/app.3a9f1cdc.js" defer></script>
  </body>
</html>
